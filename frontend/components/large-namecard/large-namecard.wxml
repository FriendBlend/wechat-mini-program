<view wx:if="{{showNamecard}}" class="container">
  <view class="popup-mask" bindtap="hideNamecard"></view>
  
  <view class="large-namecard">
    <view class="tabs">
      <view id="media" class="tab {{activeTab == 'media' ? 'active' : ''}}" bind:tap="tabClick">
        <image class="tab-icon" src="../../images/large-namecard/mult-media.png"/>
      </view>
      <view id="pet" class="tab {{activeTab == 'pet' ? 'active' : ''}}" bind:tap="tabClick">
        <image class="tab-icon" src="../../images/large-namecard/pet.png"/>
      </view>
      <view id="person" class="tab {{activeTab == 'person' ? 'active' : ''}}" bind:tap="tabClick">
        <image class="tab-icon" src="../../images/large-namecard/person.png"/>
      </view>
    </view>
    <view class="large-namecard-content" style="background-color: {{userSkin}};">
      <image class="close-btn" bindtap="hideNamecard" src="../../images/large-namecard/close-button.png"/>
      <namecard class="namecard" hasShadow="{{false}}" name="{{userName}}" avatarUrl="{{avatarUrl}}"></namecard>
      <!-- buttons -->
      <view class="button-more">
        <image class="more-icon" src="../../images/large-namecard/more.png"/>
      </view>
      <view wx:if="{{activeTab == 'pet'}}" class="greet-button">
        <image class="button-icon" src="../../images/large-namecard/greet.png"/>
      </view>
      <view wx:else class="action-buttons">
        <view class="action-button">
          <image class="button-icon" src="../../images/large-namecard/edit.png"/>
        </view>
        <view class="action-button">
          <image class="button-icon" src="../../images/large-namecard/share.png"/>
        </view>
      </view>
      <!-- person swiper -->
      <view wx:if="{{activeTab == 'person'}}">
        <swiper class="swiper" indicator-dots="{{userPictures.length > 1}}" circular="{{true}}">
          <block wx:for="{{userPictures}}" wx:key="*this">
            <swiper-item>
              <image src="{{item}}" class="slide-image" mode="aspectFill"></image>
            </swiper-item>
          </block>
        </swiper>
        <view class="name-and-tags">
          <text class="name">{{userName}}</text>
        </view>
      </view>
      <!-- pet swiper -->
      <view wx:if="{{activeTab == 'pet'}}">
        <swiper class="swiper" indicator-dots="{{petPictures.length > 1}}" circular="{{true}}">
          <block wx:for="{{petPictures}}" wx:key="*this">
            <swiper-item>
              <image src="{{item}}" class="slide-image" mode="aspectFill"></image>
            </swiper-item>
          </block>
        </swiper>
        <view class="name-and-tags">
            <text class="pet-name">{{petName}}\n</text>
            <text class="pet-remark">{{userName}}的宠物</text>
        </view>
      </view>
    </view>
  </view>
</view>